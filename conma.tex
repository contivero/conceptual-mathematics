\documentclass{article}

\usepackage{hyperref}
\hypersetup{pdfauthor={Cristian Adrián Ontivero}}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{gensymb} % for the degree symbol
\usepackage{caption}
\usepackage{float}
\usepackage{color}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage[hang,flushmargin]{footmisc} 

% For the commutative diagrams.
\usepackage{tikz-cd}

\usepackage{tikz}
\usetikzlibrary{automata, positioning, arrows,
shapes,
fit, % for the dashed boxes on Thompson's construction
calc
}
\tikzset{%
  node distance=3cm, % specifies the minimum distance between two nodes. Change if necessary.
  every state/.style={thick}, % sets the properties for each ’state’ node
  double distance=2.5pt,
  shorten >= 2pt, shorten <= 2pt,
  initial text=$ $,
  every edge/.style={%
    draw,->, >=stealth, auto, semithick
  }
}
\graphicspath{{imgs/}}

\definecolor{darkblue}{RGB}{49,130,189}

\newlength\tindent
\setlength{\tindent}{\parindent}
\setlength{\parindent}{0pt}
\renewcommand{\indent}{\hspace*{\tindent}}

%These tell TeX which packages to use.
\usepackage{array,epsfig}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsxtra}
\usepackage{amsthm}
\usepackage{mathrsfs}

%Here I define some theorem styles and shortcut commands for symbols I use often
\theoremstyle{definition}

\newcommand{\lra}{\longrightarrow}
\newcommand{\ra}{\rightarrow}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\graph}{\mathrm{graph}}
\newcommand{\bb}[1]{\mathbb{#1}}
\newcommand{\Z}{\bb{Z}}
\newcommand{\Q}{\bb{Q}}
\newcommand{\R}{\bb{R}}
\newcommand{\C}{\bb{C}}
\newcommand{\N}{\bb{N}}
\newcommand{\M}{\mathbf{M}}
\newcommand{\m}{\mathbf{m}}
\newcommand{\MM}{\mathscr{M}}
\newcommand{\HH}{\mathscr{H}}
\newcommand{\Om}{\Omega}
\newcommand{\Ho}{\in\HH(\Om)}
\newcommand{\bd}{\partial}
\newcommand{\del}{\partial}
\newcommand{\bardel}{\overline\partial}
\newcommand{\textdf}[1]{\textbf{\textsf{#1}}\index{#1}}
\newcommand{\ip}[2]{\left\langle{#1},{#2}\right\rangle}
\newcommand{\inter}[1]{\mathrm{int}{#1}}
\newcommand{\exter}[1]{\mathrm{ext}{#1}}
\newcommand{\cl}[1]{\mathrm{cl}{#1}}
\newcommand{\ds}{\displaystyle}
\newcommand{\vol}{\mathrm{vol}}
\newcommand{\cnt}{\mathrm{ct}}
\newcommand{\osc}{\mathrm{osc}}
\newcommand{\LL}{\mathbf{L}}
\newcommand{\UU}{\mathbf{U}}
\newcommand{\support}{\mathrm{support}}
\newcommand{\AND}{\;\wedge\;}
\newcommand{\OR}{\;\vee\;}
\newcommand{\Oset}{\varnothing}
\newcommand{\st}{\ni}
\newcommand{\wh}{\widehat}

\newcommand{\PS}{\mathcal{P}}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\bra}[1]{\left[#1\right]}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\paren}[1]{\left(#1\right)}
\newcommand{\ec}[1]{{\left[#1\right]}_{\sim}}
\newcommand{\en}{\mathbin{\rotatebox[origin=c]{90}{\scriptsize $\circlearrowright$}}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\cod}{\mathrm{cod~}}
\newcommand{\dom}{\mathrm{dom~}}
\newcommand{\im}{\mathrm{im~}}
\newcommand{\thra}{\twoheadrightarrow}
\newcommand{\emptystr}{\varepsilon}
\newcommand{\emptylan}{\emptyset}
\newcommand{\pdv}[2]{\partial_{#1} \bigl(#2\bigr)}

%Pagination stuff.
\setlength{\topmargin}{-.3 in}
\setlength{\oddsidemargin}{0in}
\setlength{\evensidemargin}{0in}
\setlength{\textheight}{9.in}
\setlength{\textwidth}{6.5in}
\pagestyle{empty}

% The problem environment is a regular ams theorem environment with "Problem"
% text and some leading space to give some separation between the problems.
\theoremstyle{definition}
\newtheorem{problem-internal}{Problem}[subsection]
\newenvironment{problem}{
  \medskip
  \begin{problem-internal}
}{
  \end{problem-internal}
}

% The solution environment is a proof environment with the "solution" text as
% well as the following adjustments:
% - No indent on paragraphs;
% - A small amount of space between paragraphs.
%
% Note: The negative space at the beginning is to remove the space before the
% first paragraph in the solution.
%\newenvironment{solution}{%
  %\begin{proof}[Solution]
  %\vspace{-8px}
  %\setlength{\parskip}{4px}
  %\setlength{\parindent}{0px}
%}{
  %\end{proof}
%}
\theoremstyle{definition}
\newtheorem{solution-internal}{}[subsection]
\newenvironment{solution}{
  \begin{solution-internal}
}{
  \end{solution-internal}
}

% The chngcntr ("change counter") package is used here so that subsection
% numbers are written without the leading section number. This takes place in
% the subsection headings as well as the theorem environment numbering.
%
% Before:
% 1. Section
% 1.1. Subsection
% Problem 1.1.1. What is 1 + 1?
% Problem 1.1.2. What is 1 + 2?
%
% After:
% 1. Section
% 1. Subsection
% Problem 1.1. What is 1 + 1?
% Problem 1.2. What is 1 + 2?
\usepackage{chngcntr}
\counterwithout{subsection}{section}

% Renewing the \thesection command changes the section numbers to roman
% numerals. This matches the style of the Aluffi textbook.
%
% Before:
% 1. Section
% 1.1. Subsection
%
% After:
% I. Section
% I.1. Subsection
%\renewcommand{\thesection}{\Roman{section}} 
%\renewcommand{\thesubsection}{\Roman{subsection}} 

\begin{document}

\section*{Session 1}
\setcounter{section}{1}
\setcounter{subsection}{1}

\begin{solution}
Any ``product type'' (a la Haskell).
Combine two points in a line to get a point in a plane:
\begin{center}
\begin{tikzcd}
(x,y) \arrow[r] \arrow[d] & y \\
x
\end{tikzcd}
\end{center}

Morning activities: sleep, clean, read.
Afternoon activities: go for a walk, go to a coffee shop, take a nap.
\begin{center}
\begin{tikzcd}
\text{Day Activities} \arrow[r] \arrow[d] & \text{Afternoon Activities} \\
\text{Morning Activities}
\end{tikzcd}
\end{center}
etc.

\end{solution}

% Session 1, ex. 2
\begin{solution}
TODO 
\end{solution}

\section*{Article I}
\renewcommand{\thesection}{\Roman{section}} 
\renewcommand{\thesubsection}{\Roman{subsection}} 
\setcounter{solution-internal}{0}

% Page 18, exercise 1
\begin{solution}
The maps would be as follows:

\begin{center}
\begin{tikzpicture}[node distance=16pt, every node/.style={shape=circle, inner sep=1pt, minimum size=2pt}, >=latex]

\node[fill=black] (a0) {};
\node[fill=black, below=of a0] (a1) {};
\node[fill=black, below=of a1] (a2) {};
\node[draw, shape=ellipse,minimum size=1cm,fit={(a0) (a2)}] (e0) {};
\node[above=2pt of e0] (l0) {A};

\node[fill=black, right=4cm of a0] (b0) {};
\node[fill=black, below left=0.7cm and 0.2cm of b0] (b1) {};
\node[fill=black, below right=0.2cm and 0.4cm of b1] (b2) {};
\node[fill=black, right=4cm of a2] (b3) {};
\node[draw, shape=ellipse,minimum size=1cm,fit={(b0) (b3)}] (e1) {};
\node[above=2pt of e1] (l1) {B};

\node[fill=black, right=8cm of a0] (d0) {};
\node[fill=black, right=8cm of a1] (d1) {};
\node[fill=black, right=8cm of a2] (d2) {};
\node[fill=black, right=8pt of d0] (d3) {};
\node[fill=black, right=8pt of d1] (d4) {};
\node[fill=black, right=8pt of d2] (d5) {};
\node[draw, shape=ellipse,minimum size=1.3cm,fit={(d0) (d5)}] (e2) {};
\node[above=2pt of e2] (l2) {D};

%\node[below=1.5cm of aux2,font=\Large\bfseries] {Range};

\draw[->] (a0) edge node {$f$} (b0);
\draw[->] (a1) edge (b1);
\draw[->] (a2) edge (b2);

\draw[->] (b0) edge node {$h \circ g$} (d0);
\draw[->] (b1) edge (d0);
\draw[->] (b2) edge (d1);
\draw[->] (b3) edge (d2);

\node[fill=black, below=2cm of a2] (aa0) {};
\node[fill=black, below=of aa0] (aa1) {};
\node[fill=black, below=of aa1] (aa2) {};
\node[draw, shape=ellipse,minimum size=1cm,fit={(aa0) (aa2)}] (e3) {};
\node[above=2pt of e3] (ll0) {A};

\node[fill=black, right=8cm of aa0] (dd0) {};
\node[fill=black, right=8cm of aa1] (dd1) {};
\node[fill=black, right=8cm of aa2] (dd2) {};
\node[fill=black, right=8pt of dd0] (dd3) {};
\node[fill=black, right=8pt of dd1] (dd4) {};
\node[fill=black, right=8pt of dd2] (dd5) {};
\node[draw, shape=ellipse,minimum size=1.3cm,fit={(dd0) (dd5)}] (e4) {};
\node[above=2pt of e4] (ll1) {D};

\draw[->] (aa0) edge node[yshift=-0.5cm] {$(h \circ g) \circ f$} (dd0);
\draw[->] (aa1) edge (dd0);
\draw[->] (aa2) edge (dd1);

\end{tikzpicture}
\end{center}
\end{solution}

\begin{solution}
$2\cdot 2\cdot 2 = 2^4$
\end{solution}

\begin{solution}
$3^3 = 27$
\end{solution}

\begin{solution}
$3^2 = 9$
\end{solution}
\begin{solution}
$2^4 = 16$ 
\end{solution}

The previous four exercises are instances of the more general $\abs{\cod f}^{\abs{\dom f}}$.

\begin{solution}
If $f(x) = y$, we need that $f(y) = y$. Thus, the answer is 10 maps. Graphically:
\begin{center}
\begin{tikzpicture}[node distance=4pt, every node/.style={fill=black, shape=circle, inner sep=1pt, minimum size=2pt}, >=latex]

\node (a0) {};
\node[below=of a0] (a1) {};
\node[below=of a1] (a2) {};
\node[right=16pt of a0] (b0) {};
\node[below=of b0] (b1) {};
\node[below=of b1] (b2) {};
\draw (a0) -- (b0);
\draw (a1) -- (b1);
\draw (a2) -- (b2);

\node[right=1cm of b0] (c0) {};
\node[below=of c0] (c1) {};
\node[below=of c1] (c2) {};
\node[right=16pt of c0] (d0) {};
\node[below=of d0] (d1) {};
\node[below=of d1] (d2) {};
\draw (c0) -- (d0);
\draw (c1) -- (d0);
\draw (c2) -- (d0);

\node[right=1cm of d0] (e0) {};
\node[below=of e0] (e1) {};
\node[below=of e1] (e2) {};
\node[right=16pt of e0] (f0) {};
\node[below=of f0] (f1) {};
\node[below=of f1] (f2) {};
\draw (e0) -- (f1);
\draw (e1) -- (f1);
\draw (e2) -- (f1);

\node[right=1cm of f0] (g0) {};
\node[below=of g0] (g1) {};
\node[below=of g1] (g2) {};
\node[right=16pt of g0] (h0) {};
\node[below=of h0] (h1) {};
\node[below=of h1] (h2) {};
\draw (g0) -- (h2);
\draw (g1) -- (h2);
\draw (g2) -- (h2);

\node[right=1cm of h0] (i0) {};
\node[below=of i0] (i1) {};
\node[below=of i1] (i2) {};
\node[right=16pt of i0] (j0) {};
\node[below=of j0] (j1) {};
\node[below=of j1] (j2) {};
\draw (i0) -- (j0);
\draw (i1) -- (j0);
\draw (i2) -- (j2);

\node[below=0.5cm of a2] (aa0) {};
\node[below=of aa0] (aa1) {};
\node[below=of aa1] (aa2) {};
\node[right=16pt of aa0] (bb0) {};
\node[below=of bb0] (bb1) {};
\node[below=of bb1] (bb2) {};
\draw (aa0) -- (bb1);
\draw (aa1) -- (bb1);
\draw (aa2) -- (bb2);

\node[right=1cm of bb0] (cc0) {};
\node[below=of cc0] (cc1) {};
\node[below=of cc1] (cc2) {};
\node[right=16pt of cc0] (dd0) {};
\node[below=of dd0] (dd1) {};
\node[below=of dd1] (dd2) {};
\draw (cc0) -- (dd0);
\draw (cc1) -- (dd1);
\draw (cc2) -- (dd1);

\node[right=1cm of dd0] (ee0) {};
\node[below=of ee0] (ee1) {};
\node[below=of ee1] (ee2) {};
\node[right=16pt of ee0] (ff0) {};
\node[below=of ff0] (ff1) {};
\node[below=of ff1] (ff2) {};
\draw (ee0) -- (ff0);
\draw (ee1) -- (ff2);
\draw (ee2) -- (ff2);

\node[right=1cm of ff0] (gg0) {};
\node[below=of gg0] (gg1) {};
\node[below=of gg1] (gg2) {};
\node[right=16pt of gg0] (hh0) {};
\node[below=of hh0] (hh1) {};
\node[below=of hh1] (hh2) {};
\draw (gg0) -- (hh0);
\draw (gg1) -- (hh1);
\draw (gg2) -- (hh0);

\node[right=1cm of hh0] (ii0) {};
\node[below=of ii0] (ii1) {};
\node[below=of ii1] (ii2) {};
\node[right=16pt of ii0] (jj0) {};
\node[below=of jj0] (jj1) {};
\node[below=of jj1] (jj2) {};
\draw (ii0) -- (jj2);
\draw (ii1) -- (jj1);
\draw (ii2) -- (jj2);

\end{tikzpicture}
\end{center}
\end{solution}

% Exercise 7
\begin{solution}
Three.

\begin{center}
\begin{tikzpicture}[node distance=4pt, every node/.style={fill=black, shape=circle, inner sep=1pt, minimum size=2pt}, >=latex]

\node (a0) {};
\node[below=of a0] (a1) {};
\node[right=16pt of a0] (b0) {};
\node[below=of b0] (b1) {};
\draw (a0) -- (b0);
\draw (a1) -- (b1);

\node[right=1cm of b0] (c0) {};
\node[below=of c0] (c1) {};
\node[right=16pt of c0] (d0) {};
\node[below=of d0] (d1) {};
\draw (c0) -- (d1);
\draw (c1) -- (d1);

\node[right=1cm of d0] (e0) {};
\node[below=of e0] (e1) {};
\node[right=16pt of e0] (f0) {};
\node[below=of f0] (f1) {};
\draw (e0) -- (f0);
\draw (e1) -- (f0);
\end{tikzpicture}
\end{center}
\end{solution}


\begin{solution}
In other words, how many invertible functions (iso arrows) are there? It's not possible, because $\abs{B} < \abs{A}$. Thus you ``lose information'' and the
transformation can't be reversed.
\end{solution}

\begin{solution}

Yes, because $\abs{A} > \abs{B}$ (it needs to be at least equal). There are
$3\cdot 2 = 6$ possible invertible functions for $h$. As for $k$, since there is
an element we don't care about, which can be mapped to whatever element in B,
there are $6 \cdot 2 = 12$ possibilities. Thus, there are $6 \cdot 12 = 72$ possible pairs.

\end{solution}

\section*{Session 3}
\setcounter{subsection}{3}
\renewcommand{\thesection}{\arabic{section}} 
\renewcommand{\thesubsection}{\arabic{subsection}}
\setcounter{solution-internal}{0}

\begin{solution}
(a) makes sense, $k\circ h \circ g \circ f \colon A \to B$. (c) also: $g\circ f \circ g \circ k \circ h \colon A \to A$
\end{solution}

% There isn't much to Ex.2 

\section*{Article II}
\setcounter{subsection}{2}
\renewcommand{\thesubsection}{\Roman{subsection}}
\setcounter{solution-internal}{0}

\begin{solution}
$ $ %needed for the list to align properly
\begin{itemize}
\item Reflexive: $1_A$ is its own inverse: $1_A \circ 1_A = 1_A$.
\item Symmetric: $g^{-1} = f$, since $g \circ f = 1_A$ and $f \circ g = 1_B$.
\item Transitive: ${(k \circ f)}^{-1} = f^{-1} \circ k^{-1}$. Note that we know
that $f^{-1}$ and $k^{-1}$ exist, since $f$ and $k$ are iso. Then: 

\begin{minipage}{.4\textwidth}
\begin{align*}
  (k \circ f) \circ {(k \circ f)}^{-1} &= (k \circ f) \circ k^{-1} \circ f^{-1} \\
   &= k \circ (f \circ f^{-1}) \circ k^{-1} \\
   &= k \circ 1_B \circ k^{-1} \\
   &= k \circ k^{-1} \\
   &= 1_C
\end{align*}
\end{minipage}\hspace{32pt}%
\begin{minipage}{.4\textwidth}
\begin{align*}
  {(k \circ f)}^{-1} \circ (k \circ f) &=  f^{-1} \circ k^{-1} \circ (k \circ f) \\
   &= f^{-1} \circ (k^{-1} \circ k) \circ f \\
   &= f^{-1} \circ 1_B \circ f \\
   &= f^{-1} \circ f \\
   &= 1_A
\end{align*}
\end{minipage}
\end{itemize}
\end{solution}

\begin{solution}
\[
\arraycolsep=2pt
\begin{array}{rcl}
  1_B                      & = & 1_B \\
  f \circ g                & = & f \circ k \\
  f^{-1} \circ (f \circ g) & = & f^{-1} \circ (f \circ k) \\
  (f^{-1} \circ f) \circ g & = & (f^{-1} \circ f) \circ k \\
  1_A \circ g              & = & 1_A \circ k \\
  g                        & = & k
\end{array}
\]
\end{solution}

\begin{solution}
$ $%
\begin{itemize}
\item[(a)]
\[
\arraycolsep=2pt
\begin{array}{rcl}
  f \circ h              & = & f \circ k \\
  f^{-1} \circ f \circ h & = & f^{-1} \circ f \circ k \\
  1_A \circ h            & = & 1_A \circ k \\
  h                      & = & k
\end{array}
\]
\item[(b)]
\[
\arraycolsep=2pt
\begin{array}{rcl}
  h \circ f              & = & k \circ f \\
  h \circ f \circ f^{-1} & = & k \circ f \circ f^{-1} \\
  h \circ 1_B            & = & k \circ 1_B \\
  h                      & = & k
\end{array}
\]
\end{itemize}

\end{solution}
\begin{solution}
$ $
\begin{enumerate} 
\item $f^{-1}(x) = \frac{x-7}{3}$
\item $g^{-1}(x) = \sqrt{x}$
\item Doesn't have, since $g\colon \R \to \R$ isn't monic, e.g.: $2^2 = {(-2)}^2$, but $2 \neq -2$
\item Same problem as before, although now $g$ is epic.
\item $y = \frac{1}{x+1} \Rightarrow \frac{1}{y} = x + 1 \Rightarrow \frac{1}{y} - 1 = x$

$\ell^{-1}(x) = \frac{1}{x} - 1$, but $\ell^{-1}(0)$ is undefined.
Thus it is not invertible. $l(x)$ itself isn't epic, for instance $\nexists x (l(x) = 0)$.
\end{enumerate} 
\end{solution}

\begin{solution}
$f(0)$ can be $b$, $p$ or $q$, and $f(1)$ can be $r$ or $s$. Thus $3 \cdot 2 = 6$
\end{solution}

\begin{solution}
$t = g \circ r$.

\begin{center}
\begin{tikzcd}
& B \arrow[rd, dashed, "t?"] \arrow[ld, "r", out=240, in=20] & \\
A \arrow [ru, "f"] \arrow[rr, "g"'] & & T 
\end{tikzcd}
\end{center}

We see that it satisfies the required equation: $t \circ f = g \circ r \circ f = g \circ 1_A = g$.
\end{solution}

\begin{solution}
$ $\newline
\begin{minipage}{.4\textwidth}
\[ 
\arraycolsep=2pt
\begin{array}{rcl}
  t_1 \circ f &=& t_2 \circ f \\
  (t_1 \circ f) \circ s &=& (t_2 \circ f) \circ s \\
  t_1 \circ (f \circ s) &=& t_2 \circ (f \circ s) \\
  t_1 \circ 1_B &=& t_2 \circ 1_B \\
  t_1 &=& t_2 \\
\end{array}
\]
\end{minipage}%
\begin{minipage}{.4\textwidth}
\begin{tikzcd}
B \ar[r, "s"] \ar[rr, "1_B"', bend right] & A \arrow[r, "f"] & B \ar[r, shift left, "t_1"] \ar[r, shift right, "t_2"'] & T \\
\end{tikzcd}
\end{minipage}%
\end{solution}

% Exercise 8
\begin{solution}
Given $f\colon A \to B$ with section $s\colon B \to A$, and $g\colon B \to C$ with section $s'\colon C \to D$, we take $s'' = s \circ s'$. Then:
\[ (g \circ f) \circ s'' = g \circ f \circ (s \circ s') = g \circ (f \circ s) \circ s' = g \circ 1_B \circ s' = g \circ s' = 1_C \]

Therfore $s''$ is a section for $g \circ f$.
\end{solution}

% Exercise 9
\begin{solution}
Suppose $r$ is a retraction for $f$ (i.e. $r \circ f = 1_A$), and let $e = f \circ r$. Then:
\[ e \circ e = (f \circ r) \circ (f \circ r) = f \circ (r \circ f) \circ r = f \circ 1_A \circ r = f \circ r = e \]
If $f$ is an isomorphism, then $r$ is its inverse, by the uniqueness of
inverses theorem (this is introduced just after the exercise; another
justification would be exercise 2). Thus $e = f \circ r = 1_B$.
\end{solution}

% Exercise 10
% Same as 3.4.3 from Topoi: The Categorial Analysis of Logic
\begin{solution}
TODO
\end{solution}

% Exercise 11
\begin{solution}
An example of an isomorphism $A \xrightarrow{\mathmakebox[12pt]{f}} B$ is given by:

\begin{center}
\begin{tikzpicture}[node distance=1pt, every node/.style={minimum height=10pt,  minimum width=28pt}, >=latex]

\node[font=\footnotesize] (a0) {Fatima};
\node[below=0pt of a0, font=\footnotesize] (a1) {Omer};
\node[below=0pt of a1, font=\footnotesize] (a2) {Alysia};
\node[shape=ellipse, draw, fit={(a0) (a2)}] (e0) {};
\node[above=0pt of e0] (l0) {A};

\node[right=2cm of a0, font=\footnotesize] (b0) {Coffee};
\node[below=0pt of b0, font=\footnotesize] (b1) {Tea};
\node[below=0pt of b1, font=\footnotesize] (b2) {Cocoa};
\node[shape=ellipse, draw, minimum size=1cm,fit={(b0) (b2)}] (e1) {};
\node[above=0pt of e1] (l1) {B};

\node[right=2cm of b0, font=\footnotesize] (c0) {Fatima};
\node[below=0pt of c0, font=\footnotesize] (c1) {Omer};
\node[below=0pt of c1, font=\footnotesize] (c2) {Alysia};
\node[shape=ellipse, draw, fit={(c0) (c2)}] (e2) {};
\node[above=0pt of e2] (l2) {A};

\draw[->] (a0) edge[out=5, in=175] node {$f$} (b0);
\draw[->] (a1) edge[out=5, in=175] (b1);
\draw[->] (a2) edge[out=5, in=175] (b2);
\draw[->] (b0) edge[out=5, in=175] node {$f^{-1}$} (c0);
\draw[->] (b1) edge[out=5, in=175] (c1);
\draw[->] (b2) edge[out=5, in=175] (c2);

\end{tikzpicture}
\end{center}
It is not possible to find an isomorphism $A \to C$ because $\abs{A} > \abs{C}$.
\end{solution}
\begin{solution}
The are $3!$ isomorphisms. As for endomaps of $A$, there are also $3!$, namely:
\begin{center}
\begin{tikzpicture}[node distance=4pt, every node/.style={fill=black, shape=circle, inner sep=1pt, minimum size=2pt}, >=latex]

\node (a0) {};
\node[below=of a0] (a1) {};
\node[below=of a1] (a2) {};
\node[right=16pt of a0] (b0) {};
\node[below=of b0] (b1) {};
\node[below=of b1] (b2) {};
\draw (a0) -- (b0);
\draw (a1) -- (b1);
\draw (a2) -- (b2);

\node[right=1cm of b0] (c0) {};
\node[below=of c0] (c1) {};
\node[below=of c1] (c2) {};
\node[right=16pt of c0] (d0) {};
\node[below=of d0] (d1) {};
\node[below=of d1] (d2) {};
\draw (c0) -- (d0);
\draw (c1) -- (d2);
\draw (c2) -- (d1);

\node[right=1cm of d0] (e0) {};
\node[below=of e0] (e1) {};
\node[below=of e1] (e2) {};
\node[right=16pt of e0] (f0) {};
\node[below=of f0] (f1) {};
\node[below=of f1] (f2) {};
\draw (e0) -- (f1);
\draw (e1) -- (f0);
\draw (e2) -- (f2);

\node[right=1cm of f0] (g0) {};
\node[below=of g0] (g1) {};
\node[below=of g1] (g2) {};
\node[right=16pt of g0] (h0) {};
\node[below=of h0] (h1) {};
\node[below=of h1] (h2) {};
\draw (g0) -- (h2);
\draw (g1) -- (h1);
\draw (g2) -- (h0);

\node[right=1cm of h0] (i0) {};
\node[below=of i0] (i1) {};
\node[below=of i1] (i2) {};
\node[right=16pt of i0] (j0) {};
\node[below=of j0] (j1) {};
\node[below=of j1] (j2) {};
\draw (i0) -- (j1);
\draw (i1) -- (j2);
\draw (i2) -- (j0);

\node[right=1cm of j0] (x0) {};
\node[below=of x0] (x1) {};
\node[below=of x1] (x2) {};
\node[right=16pt of x0] (z0) {};
\node[below=of z0] (z1) {};
\node[below=of z1] (z2) {};
\draw (x0) -- (z2);
\draw (x1) -- (z0);
\draw (x2) -- (z1);

\end{tikzpicture}
\end{center}
$27$ would be $3^3$, the number of distinct maps from $A$ to $A$ (or $A$ to $B$).
\end{solution}

\section*{Session 4}
\setcounter{subsection}{4}
\renewcommand{\thesection}{\arabic{section}} 
\renewcommand{\thesubsection}{\arabic{subsection}}
\setcounter{solution-internal}{0}

\begin{solution}
We check that $h \circ d$ and $d \circ h$ are identity maps.
\[
\arraycolsep=2pt\renewcommand{\arraystretch}{1.3}
\begin{array}{rl p{1cm} rl}
  (h \circ d)(x) &= h (d (x)) & &    (d \circ h)(x) &= d (h (x)) \\
                 &= h (2 x) & &                   &= d (\frac{1}{2} x) \\
                 &= \frac{1}{2} (2 x) & &         &= 2 (\frac{1}{2} x) \\
                 &= (\frac{1}{2} \cdot 2) x & &   &= (2 \cdot \frac{1}{2}) x\\
                 &= x & &                           &= x
\end{array}
\]
\end{solution}
\begin{solution}
\newcommand{\od}{\mathrm{odd}}
\newcommand{\ev}{\mathrm{even}}
\newcommand{\np}{\mathrm{negative}}
\newcommand{\po}{\mathrm{positive}}

We take $f$ such that $f(\od) = \np$, and $f(\ev) = \po$.
Then:
\begin{align*}
f(\od + \od) & = f(\od) \times f(\od) = \np \times \np = \po \\
f(\od + \ev) & = f(\od) \times f(\ev) = \np \times \po = \np \\
f(\ev + \ev) & = f(\ev) \times f(\ev) = \po \times \po = \po \\
f^{-1}(\np \times \np) & = f^{-1}(\np) + f^{-1}(\np) = \od + \od = \ev \\
f^{-1}(\po \times \np) & = f^{-1}(\po) + f^{-1}(\np) = \ev + \od = \od \\
f^{-1}(\po \times \po) & = f^{-1}(\po) + f^{-1}(\po) = \ev + \ev = \ev
\end{align*}
The other invertible map doesn't respect the combining rules.
\end{solution}

\begin{solution}
$ $ 
  \begin{enumerate}[label=\alph*.]
    \item $p(a+b) \neq p a + p b$, for example: $p(2+3) = 2 + 3 + 1 \neq 2 + 1 +
      3 + 1$. Thus, it is not an isomorphism.
    \item ${(a \cdot b)}^2 = a^2 \cdot b^2$ respects the combining rules, but
      ${(1 \cdot 2)}^2 = {(1 \cdot (-2))}^2$, and $2 \neq -2$, so it is not
      monic, therefore not iso.
    \item Still not an iso: $x^2 = y \rightarrow \abs{x} = \sqrt{y}$, but
      $\nexists x \in \R_{>0}$ such that $\sqrt{x} = -1$, because there is no
      inverse for the square root from $(\R_{>0}, \times)$ to $(\R, \times)$.
    \item $m(a+b) = ma + mb$, since $-(a+b) = -a -b$. The inverse is itself ($m
      = m^{-1}$), i.e. $m \circ m = 1_{(\R, +)}$. This is easy to see:
      $-(-(a+b)) = -(-a -b) = a + b$.
    \item It is not a map in the category, because it doesn't respect the
      combining rules: $-(a \cdot b) \neq (-a) \cdot (-b)$.
    \item It is not a valid iso, since $c~(-1) = (-1)^3 = -1 \notin \R_{>0}$. In
      other words, $c$ is a partial function.
  \end{enumerate}

\end{solution}

\section*{Session 5}
\setcounter{subsection}{5}
\setcounter{solution-internal}{0}

\begin{solution}
  $ $
  \begin{enumerate}[label=\alph*.]
    \item Suppose there is a map $g$ such that $h = g \circ f$, and let $a_1, a_2$ be a pair
  of points $\mathbf{1} \to A$. Suppose also that $f a_1 = f a_2$, then:
  \[
  \begin{array}{rcl}
    f a_1 &=& f a_2\\
    g \circ (f \circ a_1) &=& g \circ (f \circ a_2)\\
    (g \circ f) \circ a_1 &=& (g \circ f) \circ a_2\\
    h \circ a_1 &=& h \circ a_2\\
  \end{array}
  \]
\item Let $a_1, a_2$ be a pair of points $\mathbf{1} \to A$, and suppose that $f
  a_1 = f a_2 \rightarrow h a_1 = h a_2$ holds. Then since $f$ and $h$ are
  constant maps, all we need is a $g$ that maps every element of $B$ to
  whichever element $h$ happens to be mapping to.
\begin{center}
\begin{tikzcd}
  & & B \ar[rd, "g?", dashed] & \\
  \mathbf{1} \ar[r, "a_1", shift left] \ar[r, "a_2"', shift right] & A \ar[rr, "h"'] \ar[ru, "f"] & & C
\end{tikzcd}
\end{center}
\end{enumerate}
\end{solution}

% Session 5, exercise 2
\begin{solution}
  $ $ 
  \begin{enumerate}[label=\alph*.]
    \item Suppose there is an $f$ with $g \circ f = h$. Let $a$ be a point $\mathbf{1}
  \to A$. Then:

  \begin{minipage}{.5\textwidth}
  \[ h \circ a = (g \circ f) \circ a = g \circ (f \circ a) \]
  \end{minipage}%
  \begin{minipage}{.5\textwidth}
\begin{tikzcd}
  & & B \ar[rd, "g"] & \\
  \mathbf{1} \ar[r, "a"] & A \ar[rr, "h"'] \ar[ru, "f"] & & C
\end{tikzcd}
  \end{minipage}

Thus $b = (f \circ a) \in B$.
\item TODO
\end{enumerate}
\end{solution}

% Session 5, exercise 3
\begin{solution}
  There are 8 possible sections, i.e.\ all the possible permutations.
\end{solution}

\section*{Session 9}
\setcounter{subsection}{9}
\setcounter{solution-internal}{0}

% Session 9, exercise 1
\begin{solution}
  Let $B$ be a set with no points, and $A$ be a set with a point $a \colon
  \mathbf{1} \to A$. Suppose there exists a map $f\colon A \to B$. Then $B$ has
  a point, namely $(f \circ a) \colon \mathbf{1} \to B$. Absurd.
\end{solution}

% Session 9, exercise 2
\begin{solution}
  $ $
  \begin{itemize}
    \item Reflexive: $A \leq_{R} A$. This is true since we have $A
  \xrightarrow{\mathmakebox[12pt]{f}} A \xrightarrow{\mathmakebox[12pt]{r}} A$,
  with $s = r = 1_A$, $s \circ r = 1_A$ because $1_A \circ 1_A = 1_A$.
\item Transitive: proved on Proposition 3 of page 53.
  \end{itemize}
\end{solution}

% Session 9, exercise 3
\begin{solution}
  The map is $f = r' \circ s \colon A \to A'$, with inverse $f^{-1} = r \circ s' \colon A' \to A$
\end{solution}

\section*{Quiz (page 108)}
\subsection*{Optional question 2*} 
Just take $q'$ to be $q$. Then by (2.a.), $p \circ q' \circ p = p$. To see that
is satisfies the second equality, we note that $C$ with $p$ and $q$ is an
splitting of $D \to D$, meaning that $pq$ is idempotent, and $qp = 1_C$, so:
\[ q' \circ p \circ q' = q \circ p \circ q = 1_C \circ q = q = q' \]
\subsection*{Optional question 1*} 
Take $A = \N$ and $B = \R$. $f$ maps $x \in \N$ to the same number in $\R$ ($f$
is an inclusion map). $r$ maps the positive integers in $\R$ to the same number
in $\N$. The rest of the numbers to whatever (say 1). By the uniqueness of
inverses theorem, if there is a section $s$, it must be $s = r$. But $r$ is not
a section for $f$, since $f(s(2.5)) = 1 \neq 2.5$. Then $f$ has no section.

\section*{Summary/quiz on pairs of `opposed' maps (page 116)}
\begin{enumerate}
  \item Always; endomaps
  \item $1_A$; endomap; idempotent; $(f \circ g) \circ (f \circ g) = f \circ g$
  \item $1_B$; $g$
  \item Could be different from; could be different from.
\end{enumerate}
\section*{Test 1}
\setcounter{subsection}{1}
\renewcommand{\thesubsection}{Test \arabic{subsection}}
\setcounter{solution-internal}{0}
\begin{solution}
  $ $
  \begin{enumerate}[label=\alph*.]
    \item  $ $

      \begin{minipage}{.45\textwidth}
\begin{tikzpicture}[node distance=2pt, every node/.style={minimum size=2pt}, >=latex]
\node (a0) {Mara};
\node[below=of a0] (a1) {Aurelio};
\node[below=of a1] (a2) {Andrea};
\node[right=48pt of a0] (a3) {Mara};
\node[below=of a3] (a4) {Aurelio};
\node[below=of a4] (a5) {Andrea};
\draw[->] (a0) edge node[anchor=center, yshift=20pt] {$f$} (a4);
\draw[->] (a1) edge (a3);
\draw[->] (a2) edge (a5);
\end{tikzpicture}
\end{minipage}%
\begin{minipage}{.45\textwidth}
  \begin{center}
    Special internal diagrams

    \vspace{10pt}
    \begin{tikzcd}
      M \ar[rr, bend left] & & Au \ar[ll, bend left]\\
                           & An \ar[loop right] &
    \end{tikzcd}
  \end{center}
\end{minipage}
\item $ $

\begin{minipage}{.45\textwidth}
\begin{tikzpicture}[node distance=2pt, every node/.style={minimum size=2pt}, >=latex]
\node (a0) {Mara};
\node[below=of a0] (a1) {Aurelio};
\node[below=of a1] (a2) {Andrea};
\node[right=48pt of a0] (a3) {Mara};
\node[below=of a3] (a4) {Aurelio};
\node[below=of a4] (a5) {Andrea};
\draw[->] (a0) edge node[anchor=center, yshift=14pt] {$e$} (a4);
\draw[->] (a1) edge (a4);
\draw[->] (a2) edge (a4);
\end{tikzpicture}
\end{minipage}%
\begin{minipage}{.45\textwidth}
  \begin{center}
    \begin{tikzcd}
      M \ar[r] & Au \ar[loop below] & An \ar[l]
    \end{tikzcd}
  \end{center}
\end{minipage}

\item $ $

\begin{tikzpicture}[node distance=16pt, every node/.style={inner sep=1pt, minimum size=2pt}, >=latex]

\node (a0) {1};
\node[below=of a0] (a1) {2};
\node[draw, shape=ellipse,minimum size=1cm,fit={(a0) (a1)}] (e0) {};

\node[right=4cm of a0] (b0) {Mara};
\node[below=of b0] (b1) {Aurelio};
\node[below=of b1] (b2) {Andrea};
\node[draw, shape=ellipse,minimum size=1cm,fit={(b0) (b2)}] (e1) {};

\draw[->] (a0) edge node {$s$} (b0);
\draw[->] (a1) edge (b1);

\draw[draw=darkblue,->] (b0) edge[out=195, in=345] (a0);
\draw[draw=darkblue,->] (b1) edge[out=195, in=345] (a1);
\draw[draw=darkblue,->] (b2) edge[bend left] node[color=darkblue, anchor=center,
yshift=-10pt] {$r$} (a1);
\end{tikzpicture}

Clearly $r \circ s = 1_B$, and $s \circ r$ is an idempotent, since: $(s \circ r) \circ (s
\circ r) = s \circ (r \circ s) \circ r = s \circ 1_B \circ r = s \circ r$.
\end{enumerate}
\end{solution}
% Test 1, problem 2
\begin{solution}
  The function $g(x) = \frac{x+7}{4}$ is the inverse of $f$. To see this, we
  check:
  \begin{align*}
    (g \circ f)(x) &= g(f(x)) = \frac{f(x) + 7}{4} = \frac{4x -7 + 7}{4} = x\\
    (f \circ g)(x) &= f(g(x)) = 4g(x) - 7 = 4\paren{\frac{x+7}{4}} -7 = x
  \end{align*}
\end{solution}

\section*{Session 10}
\setcounter{subsection}{10}
\renewcommand{\thesubsection}{\arabic{subsection}}
\setcounter{solution-internal}{0}

\begin{solution}
  $ $ 

  \begin{minipage}{.6\textwidth}
  Note that $g$ is the identity only on those points $D$ that ``come from''
  applying $j$ to points in C. Now suppose $\forall x \paren{f(x) \neq g(x)}$. We
  construct a continuous retraction for $j$. Draw an arrow with tail $f(x)$ and
  head $g(x)$. This arrow always points to a point on the boundary (since $f(x)
  \neq g(x))$. Let $r(x) = x$ for points on the boundary. When $x$ is a point on
  the boundary, $g$ acts like the identity (since $g \circ j = j$), so $r \circ
  j = 1_C$.
  \end{minipage}%
  \begin{minipage}{.4\textwidth}
    \begin{center}
  \begin{tikzpicture}
    \draw (2,2) circle (2cm)
                node[inner sep= 0, fill=black, shape=circle, minimum size=3pt]
                (r) at (3.7, 3.05) {}
                node[inner sep= 0, fill=black, shape=circle, minimum size=3pt]
                (g2) at (0.7, 3.52) {};
                \node[above right=1pt of r] (rl) {$r(x)$};
    \node[below left=10pt and 24pt of r, inner sep=0, fill=black, shape=circle, minimum size=3pt] (g) {};
    \node[below right=0pt and -4pt of g] (gl) {$g(x)$};
    
    \node[below left=10pt and 24pt of g, inner sep=0, fill=black, shape=circle, minimum size=3pt] (f) {};
    \node[below=2pt of f] (fl) {$f(x)$};

    \node[right=40pt of g2, inner sep=0, fill=black, shape=circle, minimum size=3pt] (f2) {};
    \node[below=0pt of g2] (gt) {$g(t)$};
    \node[below=0pt of f2] (ft) {$f(t)$};
    \draw[->] (f2) edge (g2);

    \draw[->] (f) edge (g);
    \draw[dashed] (g) edge[-] (r);
  \end{tikzpicture}
    \end{center}
  \end{minipage}%
\end{solution}

\begin{solution}
  Let $g\colon A \to A$. $s \circ g \circ r \colon X \to X$, thus by the
  initial assumption that $X$ has the fixed point property for maps from $T$,
  there exists $x\colon T \to X$ such that:

  \begin{minipage}{.5\textwidth}
    \begin{align*}
      (s \circ g \circ r) \circ x &= x \\
      r \circ s \circ g \circ r \circ x &= r \circ x\\
      1_A \circ g \circ r \circ x &= r \circ x\\
      g \circ r \circ x &= r \circ x
    \end{align*}
  \end{minipage}%
  \begin{minipage}{.5\textwidth}
    \begin{center}
    \begin{tikzcd}
      & T \ar[ld, "x"'] \ar[d, "y"] \\
      X \ar[r, shift left, "r"] & A \ar[l, shift left, "s"] \ar[loop right, "g"]
    \end{tikzcd}
    \end{center}
  \end{minipage}
  \vspace{12pt}

Hence there exists $y\colon T \to A$, namely $y = r \circ x$, such that $g \circ y = y$.
\end{solution}

%Session 10, ex. 3
\begin{solution}
  TODO
\end{solution}

\begin{solution}
  We have as objects $E, I, R$ in some category where the morphisms are
  continuos functions. As morphisms, we have:
  \begin{itemize}
    \item An inclusion map $j\colon E \to I$
    \item An inclusion map $i\colon I \to R$
    \item Two maps $y, m \colon I \to R$, which discribe the travel.
  \end{itemize}
  And the following restrictions: TODO complete.
\end{solution}

\section*{Article III}
\setcounter{subsection}{3}
\renewcommand{\thesubsection}{\Roman{subsection}}
\setcounter{solution-internal}{0}

\begin{solution}
  We have:

  \begin{minipage}{.3\textwidth}
  \begin{align}
    f \circ \alpha &= \beta \circ f \\
    g \circ \beta  &= \gamma \circ g
  \end{align}
  \end{minipage}%
  \begin{minipage}{.7\textwidth}
    \begin{center}
  \begin{tikzcd}[cells={nodes={draw=black}}]
    X^{\en \alpha} \ar[r, "f"] \ar[rd, "g \circ f"'] & Y^{\en \beta} \ar[d, "g"] \\
                                                     & Z^{\en \gamma}
  \end{tikzcd}
    \end{center}
  \end{minipage}
  \vspace{10pt}

  Then, from (2), right-composing $f$, and from (1): 
  \begin{align*}
    g \circ \beta  &= \gamma \circ g \\
    g \circ \beta \circ f &= \gamma \circ g \circ f \\
    g \circ f \circ \alpha &= \gamma \circ g \circ f
  \end{align*}
\end{solution}

\begin{solution}
  Suppose $e \colon E \to E$ is such that $e \circ e = e$, and there is some $r
  \colon E \to E$ such that $r \circ e = 1_E$. Then: 
  \[ 1_E = r \circ e = r \circ (e \circ e) = (r \circ e) \circ e = 1_E \circ e =
  e \] 
\end{solution}

\begin{solution}
  No idea what the ``problem'' is $:|$
\end{solution}

\begin{solution}
  Let $\alpha \colon \Z \to Z$ be such that $\alpha (x) = -x$. Then:
  \begin{itemize}
    \item $\alpha$ is not idempotent, for instance: $\alpha(\alpha(1)) = 1 \neq \alpha(1) = -1$.
    \item $\alpha$ is an involution: $\alpha(\alpha(x)) = \alpha(-x) = -(-x) = x$.
  \end{itemize}
  As for fixed points, it has only one, 0:
  \begin{align*}
    \alpha (x) & = x \\
     -x        & = x \\
     -2x       & = 0 \\
     x         & = 0
  \end{align*}
\end{solution}

\begin{solution}
  $ $

  \begin{itemize}
    \item $\alpha$ is idempotent: 
      \begin{itemize}
        \item Case $x \geq 0$: $\alpha(\alpha(x)) = \alpha(\abs{x}) =
          \abs{|x|} = \abs{x} = \alpha(x)$
        \item Case $x < 0$: $\alpha(\alpha(x)) = \alpha(\abs{x}) = \alpha(-x) =
          \abs{-x} = \abs{x} = \alpha(x)$
      \end{itemize}
    \item $\alpha$ is not an involution, e.g.: $\alpha(\alpha(-3)) =
      \alpha(\abs{-3}) = \abs{3} = 3 \neq -3$
  \end{itemize}
\end{solution}
\end{document}
